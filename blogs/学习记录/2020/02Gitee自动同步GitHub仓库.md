---
title: ã€XXGç¬”è®°ã€Giteeè‡ªåŠ¨åŒæ­¥GitHubçš„ä»“åº“ ğŸŸ©ğŸŸ¨ğŸŸ¥
author: 'è°¢å¤æˆˆ'
date: 2020-08-16
sidebar: 'auto'
categories:
 - XXGç¬”è®°
---
## ğŸŸ¥ğŸŸ§ğŸŸ¨ğŸŸ©ğŸŸ¦ğŸŸªğŸŸ«â¬›â¬œ
## ğŸŸ¥ å‰è¨€ 

>[å‚è€ƒæ–‡ç« 1ï¼šhttps://www.imooc.com/article/302662](https://www.imooc.com/article/302662)    
[å‚è€ƒæ–‡ç« 2ï¼šhttps://github.com/marketplace/actions/gitee-pages-action](https://github.com/marketplace/actions/gitee-pages-action)  

å› ä¸ºå›½å†…æ— æ³•è®¿é—®åˆ°GitHub Pagesçš„åŸå› ï¼ˆå¶å°”ä¼šè®¿é—®ä¸åˆ°ï¼Œç‰¹åˆ«æ˜¯ä¹‹å‰ä¸€æ®µæ—¶é—´ï¼‰ã€‚

- ã€é—®é¢˜ã€‘æˆ‘æƒ³åŒæ—¶æ›´æ–°ä¸¤ä¸ªä»“åº“,ä¹Ÿå°±æ˜¯ä¸¤ä¸ªåšå®¢ï¼ˆgithub pagesã€gitee pagesï¼‰

- ã€æ–¹æ³•1ã€‘ä¹‹å‰ç”¨çš„æ–¹æ³•æ˜¯ ä¸€ä¸ªæœ¬åœ°ä»“åº“ç»‘å®šä¸¤ä¸ªè¿œç¨‹ä»“åº“ï¼ˆGitHubå’ŒGiteeï¼‰ã€ä½†ä¸æ˜¯å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‘  
- ã€æ–¹æ³•2ã€‘æˆ‘æŠŠGitHubä»“åº“ åŒæ­¥åˆ°äº† ç äº‘-Gitee  å¹¶ä¸”å¯ç”¨ Gitee Pages

## ğŸŸ§ã€æ–¹æ³•1ã€‘
ã€åˆ†æ”¯-æºæ–‡ä»¶ã€‘-> ã€Actionsè‡ªåŠ¨éƒ¨ç½²/è‡ªåŠ¨æ‰“åŒ…ã€‘->ã€æŠŠæ‰“åŒ…å¥½çš„distéƒ¨ç½²åˆ°ä¸»åˆ†æ”¯masterã€‘
1. GitHubåªpushå‰¯åˆ†æ”¯ï¼ŒActionsæœ‰å¸®æˆ‘æ‰“åŒ…æ›´æ–°åˆ°masterä¸»åˆ†æ”¯ï¼Œ
2. Giteeä¹Ÿåªpushå‰¯åˆ†æ”¯ï¼ŒGiteeç äº‘æ²¡æœ‰æ›´æ–°masterä¸»åˆ†æ”¯

è¿™å°±å¯¼è‡´æˆ‘xxggg.github.ioè¿™ä¸ªåšå®¢æœ‰æ›´æ–°ï¼Œè€Œxxggg.gitee.ioè¿™ä¸ªåšå®¢æ²¡æœ‰æ›´æ–°ã€‚


**ä¸€ï¼šåœ¨æˆ‘çš„Giteeé¡¹ç›®é‡ŒæŒ‰ä¸€ä¸‹å¼ºåˆ¶åŒæ­¥é‚£ä¸ªæŒ‰é’®ï¼ˆä½†æ˜¯è¿™ã€‚ã€‚ã€‚ï¼‰**  
![å›¾ 12](./img/c77a73282e1f5c790d9f8ea1434892ae40e19f967569a7a1c11aa03df51c9f2b.png)  

**äºŒï¼šä¸ç”¨ä¸»å‰¯åˆ†æ”¯ï¼Œåˆ†ä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªæºä»£ç ï¼Œä¸€ä¸ªæ‰“åŒ…åçš„ä»£ç ã€‚ï¼ˆä½†æ˜¯è¿™æ ·æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æ‰“åŒ… è¿˜è¦pushä¸¤æ¬¡)**     
**ä¸‰ï¼šä¹Ÿå°±æ˜¯ä»Šå¤©è¦è®²çš„ï¼ğŸ‘‡ ç”¨GitHub ActionsæŠŠä»£ç åŒæ­¥åˆ°Gitee**


## ğŸŸ¨ã€æ–¹æ³•2ã€‘

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `.github/workflows/` åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œå†åˆ›å»º`vuepress-deploy.yml`æ–‡ä»¶  
![](./img/51ce1de961fc0f35a06d3cd36e4e4459a1d18abc766b2c0dc7acc1b006c99b58.png)  

-  GitHub çš„Actionsä¼šå¤„ç†`.github`ä¸‹çš„å·¥ä½œæµæ–‡ä»¶å¤¹`workflows` 
```yml
name: Sync

on: [ psuh ]

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
        - name: Sync to Gitee
            uses: wearerequired/git-mirror-action@master
            env:
                # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_RSA_PRIVATE_KEY
                SSH_PRIVATE_KEY: ${{ secrets.GITEE_RSA_PRIVATE_KEY }}
            with:
                # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€
                source-repo: "git@github.com:XXGGG/xxggg.github.io.git"
                # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€
                destination-repo: "git@gitee.com:XXGGG/XXGGG.git"

        - name: Build Gitee Pages
            uses: yanglbme/gitee-pages-action@master
            with:
                # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç”¨æˆ·å
                gitee-username: XXGGG
                # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PASSWORD
                gitee-password: ${{ secrets.GITEE_PASSWORD }}
                # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ä»“åº“
                gitee-repo: XXGGG/XXGGG
```
é™¤äº†ç®€å•æ›´æ¢å¡«å†™ä½ çš„githubè·Ÿgiteeå¯¹åº”é¡¹ç›®åœ°å€ä»¥å¤–  
æœ€é‡è¦çš„çš„å°±æ˜¯é…ç½®å¥½ä½ GitHubé¡¹ç›®é‡Œçš„`settings` ->`secrets`  é‡Œçš„`GITEE_RSA_PRIVATE_KEY`  å’Œ `GITEE_PASSWORD` 

- `GITEE_RSA_PRIVATE_KEY` æ˜¯ä½ çš„ç§é’¥
- `GITEE_PASSWORD` æ˜¯ä½ Giteeçš„è´¦æˆ·å¯†ç 

![å›¾ 13](./img/0adfe06cdf92dc01647335ea6871f9dff4e82fb5d0f76f23444e4e7eeb44e0b7.png)  


## ğŸŸ© å¦‚ä½•å¾—åˆ°ç§é’¥å…¬é’¥

[æˆ‘çš„ç¬”è®°: ğŸ—ï¸SSH - å…¬é’¥ ç§é’¥](https://xxggg.github.io/docs/note/config/SSH-%E5%85%AC%E9%92%A5%E7%A7%81%E9%92%A5.html)
>å‚è€ƒæ–‡ç« ï¼š  
[https://blog.csdn.net/fenghuibian/article/details/73350890](https://blog.csdn.net/fenghuibian/article/details/73350890)    
[https://gitee.com/help/articles/4181#article-header0](https://gitee.com/help/articles/4181#article-header0)  

### ğŸŸ© ç¬¬ä¸€æ­¥ ç”ŸæˆSSH Key
æ‰“å¼€ç»ˆç«¯ æˆ–è€…æ˜¯Git Bash (windowsä¸‹è½½gitåè‡ªå¸¦çš„)
    
    ssh-keygen -t rsa -C "xxxx@xxxx.com"
    //(xxxx@xxxx.com ä¸ºä½ çš„é‚®ç®±)

æŒ‰ç…§æç¤ºå®Œæˆä¸‰æ¬¡å›è½¦ï¼Œå³å¯ç”Ÿæˆ ssh keyã€‚  
é€šè¿‡æŸ¥çœ‹ `~/.ssh/id_rsa.pub` æ–‡ä»¶å†…å®¹ï¼Œè·å–åˆ°ä½ çš„å…¬é’¥

    cat ~/.ssh/id_rsa.pub

ç„¶åå‡ºæ¥çš„ä¸€å¤§ä¸²ä¸œè¥¿éƒ½æ˜¯å…¬é’¥ã€‚

### ğŸŸ© ç¬¬äºŒæ­¥ æŠŠå…¬é’¥æ·»åŠ åˆ°github å’Œ gitee
å»æµè§ˆå™¨ç™»ä¸Šä½ çš„GitHubç„¶ååœ¨<code>settings</code>-><code>SSH and GPG keys</code>é‡Œæ·»åŠ ä¸Šå…¬é’¥ï¼ˆç äº‘giteeåŒç†ï¼‰

### ğŸŸ© ç¬¬ä¸‰æ­¥ æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸ ssh -T git@github.com

æ‰“å¼€ç»ˆç«¯ï¼Œæµ‹è¯•githubç”¨

    ssh -T git@github.com

æµ‹è¯•iteeç”¨

    ssh -T git@gitee.com

è‹¥è¿”å› Hi XXX! You've successfully authenticated, but (Gitee.com/GitHub.com) does not provide shell access. å†…å®¹ï¼Œåˆ™è¯æ˜æ·»åŠ æˆåŠŸã€‚

## ğŸŸ¦ å¡«ä¸Šåˆšåˆšéœ€è¦çš„ç§é’¥

åœ¨ ~/.sshç›®å½•ä¸‹æœ‰id_rsa å’Œid_rsa.pubä¸¤ä¸ªæ–‡ä»¶  
id_rsa.pubæ˜¯å…¬é’¥  
id_rsa æ˜¯ç§é’¥

    cat ~/.ssh/id_rsa

æŸ¥çœ‹ç§é’¥ ç„¶åæŠŠç§é’¥æ·»åŠ åˆ°GitHubé¡¹ç›®é‡Œçš„<code>settings</code>-><code>secrets</code> é‡Œçš„<code>GITEE_RSA_PRIVATE_KEY</code>

>**æ³¨æ„ å…¨éƒ½è¦å¤åˆ¶ åˆ«æ¼äº† å¼€å¤´å’Œç»“å°¾ä¹Ÿè¦å¤åˆ¶è¿›**

## ğŸŸ¢ğŸŸ¡ğŸ”´

è¿™å°±å¯ä»¥å•¦ æ¯æ¬¡pushéƒ½ä¼šæŠŠGitHubçš„æ•´ä¸ªä»“åº“ï¼ˆåŒ…æ‹¬åˆ†æ”¯çš„å†…å®¹ï¼‰ å¼ºåˆ¶åŒæ­¥åˆ°Giteeä¸Š 

>**ä¸Šé¢åªæ˜¯åœ¨ä½ æŠŠæœ¬åœ°ä»“åº“pushåˆ°githubçš„æ—¶å€™è‡ªåŠ¨å¸®ä½ æŠŠgithubä»“åº“æ‹‰åˆ°giteeä¸Šã€‚å¦‚æœä½ æ˜¯å†™åšå®¢ï¼Œæƒ³è®©åšå®¢é¡¹ç›®è‡ªåŠ¨æ‰“åŒ…å†è‡ªåŠ¨åŒæ­¥ï¼Œé‚£å°±è¦åœ¨è¿™åŒæ­¥ä»“åº“ä¹‹å‰ï¼Œè®¾ç½®è‡ªåŠ¨æ‰“åŒ…ã€‚ï¼ˆä¸‹é¢é™„ä¸Šè‡ªåŠ¨æ‰“åŒ…ä¸”è‡ªåŠ¨åŒæ­¥çš„æ–‡ä»¶é…ç½®ğŸ‘‡**

```yml
name: Build and Deploy
on: [push]

# ä»»åŠ¡
jobs:
  build-and-deploy:
    # æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu
    runs-on: ubuntu-latest
    steps:
      # æ‹‰å–ä»£ç 
      - name: Checkout
        uses: actions/checkout@v2
        with:
          persist-credentials: false

      # ç”Ÿæˆé™æ€æ–‡ä»¶
      - name: Build
        run: npm install && npm run build

      # éƒ¨ç½²åˆ° GitHub Pages
      - name: Deploy
        uses: JamesIves/github-pages-deploy-action@releases/v3
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          BRANCH: master
          FOLDER: public

# æ¥ä¸‹æ¥çš„æ“ä½œæ˜¯æŠŠgithubçš„ä»£ç  åŒæ­¥åˆ° ç äº‘ä¸Š gitee å®ç°gitee pagesçš„ä¼ªè‡ªåŠ¨éƒ¨ç½²

      - name: Sync to Gitee
        uses: wearerequired/git-mirror-action@master
        env:
          # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_RSA_PRIVATE_KEY
          SSH_PRIVATE_KEY: ${{ secrets.GITEE_RSA_PRIVATE_KEY }}
        with:
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€
          source-repo: "git@github.com:XXGGG/xxggg.github.io.git"
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€
          destination-repo: "git@gitee.com:XXGGG/XXGGG.git"

      - name: Build Gitee Pages
        uses: yanglbme/gitee-pages-action@master
        with:
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç”¨æˆ·å
          gitee-username: XXGGG
          # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PASSWORD
          gitee-password: ${{ secrets.GITEE_PASSWORD }}
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ä»“åº“
          gitee-repo: XXGGG/XXGGG
```
ä¸»è¦ä¸Šé¢è¦æ›´æ¢ä¸€ä¸‹ä½ çš„BRANCHï¼ˆç°åœ¨çš„githubæœ‰å¯èƒ½å˜æˆmainäº†ï¼‰ è¿˜æœ‰æ‰“åŒ…ï¼ˆFOLDER: publicï¼‰

å¯¹äºGitee Pageså‰ææ˜¯ä½ å·²ç»å¼€å¯Gitee Pageså“¦ é¦–æ¬¡åŒæ­¥è¦å»å¼€ä¸€ä¸‹Gitee Pages














